<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Entertainment â€” Movie &amp; TV Dashboard</title>
  <link rel="stylesheet" href="static/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,700;1,300&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns@3.0.0/dist/chartjs-adapter-date-fns.bundle.min.js"></script>

  <style>
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       INDEX PAGE â€” OVERRIDES & ADDITIONS
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

    /* â”€â”€ BACK TO HOME â€” DESKTOP â”€â”€ */
    .back-home-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      background: transparent;
      border: 1px solid var(--border-2);
      color: var(--muted);
      text-decoration: none;
      font-family: 'DM Sans', sans-serif;
      font-size: 0.76rem;
      font-weight: 500;
      letter-spacing: 0.06em;
      padding: 0.45rem 1rem;
      border-radius: 99px;
      flex-shrink: 0;
      transition: border-color 0.2s, color 0.2s, background 0.2s;
      white-space: nowrap;
    }
    .back-home-btn:hover {
      border-color: rgba(201,168,76,0.4);
      color: var(--gold-lt);
      background: rgba(201,168,76,0.06);
    }
    .back-home-btn svg { flex-shrink: 0; transition: transform 0.2s; }
    .back-home-btn:hover svg { transform: translateX(-2px); }

    @media (max-width: 768px) {
      .back-home-desktop { display: none !important; }
    }

    /* â”€â”€ BACK TO HOME â€” MOBILE â”€â”€ */
    .back-home-mobile {
      display: none;
      align-items: center;
      gap: 0.45rem;
      color: var(--muted);
      text-decoration: none;
      font-family: 'DM Sans', sans-serif;
      font-size: 0.78rem;
      font-weight: 500;
      letter-spacing: 0.05em;
      padding: 0.3rem 0;
      margin-bottom: 0.5rem;
      transition: color 0.2s;
      width: fit-content;
    }
    .back-home-mobile svg { flex-shrink: 0; transition: transform 0.2s; }
    .back-home-mobile:hover { color: var(--gold-lt); }
    .back-home-mobile:hover svg { transform: translateX(-3px); }

    @media (max-width: 768px) {
      .back-home-mobile { display: flex !important; }
    }

    /* â”€â”€ MODE TOGGLE â”€â”€ */
    .mode-toggle {
      display: flex;
      align-items: center;
      background: var(--surface2);
      border: 1px solid var(--border-2);
      border-radius: 99px;
      padding: 3px;
      gap: 2px;
      flex-shrink: 0;
    }
    .mode-btn {
      background: transparent;
      border: none;
      color: var(--muted);
      font-family: 'DM Sans', sans-serif;
      font-size: 0.78rem;
      font-weight: 500;
      padding: 0.35rem 0.9rem;
      border-radius: 99px;
      cursor: pointer;
      transition: all 0.2s;
      letter-spacing: 0.03em;
      white-space: nowrap;
    }
    .mode-btn.active {
      background: rgba(201,168,76,0.15);
      color: var(--gold);
      border: 1px solid rgba(201,168,76,0.3);
    }
    .mode-btn:hover:not(.active) { color: var(--text); }

    /* â”€â”€ MOBILE STICKY SEARCH BAR â”€â”€ */
    .mobile-search-row {
      display: none;
      position: fixed;
      top: var(--header-h);
      left: 0; right: 0;
      z-index: 199;
      background: rgba(7,8,13,0.97);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
      padding: 0.6rem 1rem;
    }
    .mobile-search-row .search-box {
      width: 100%;
      border-radius: 12px;
    }
    .mobile-search-row .search-box input {
      padding: 0.7rem 0;
      font-size: 0.95rem;
    }
    #mobileSearchSuggestions {
      position: absolute;
      top: calc(100% + 4px);
      left: 1rem; right: 1rem;
      z-index: 500;
    }

    /* â”€â”€ SHOW-SPECIFIC STATS BAND â”€â”€ */
    .show-stat-band {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(115px, 1fr));
      gap: 0.6rem;
      padding: 1.2rem 1.5rem 0;
    }
    .show-stat-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 0.75rem 0.9rem;
      text-align: center;
    }
    .show-stat-card .lbl {
      font-size: 0.6rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--muted);
      margin-bottom: 0.35rem;
    }
    .show-stat-card .val {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 1.3rem;
      color: var(--gold-lt);
      letter-spacing: 0.04em;
      line-height: 1;
    }

    /* â”€â”€ SEASONS â”€â”€ */
    .seasons-table { padding: 0 1.5rem 1.5rem; }
    .seasons-table-header {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 1.2rem;
      letter-spacing: 0.14em;
      color: var(--gold);
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .seasons-table-header::after { content:''; flex:1; height:1px; background:var(--border); }
    .seasons-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
      gap: 0.6rem;
    }
    .season-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      overflow: hidden;
      transition: border-color 0.2s, transform 0.2s;
      animation: fadeUp 0.3s ease both;
    }
    .season-card:hover { border-color: rgba(201,168,76,0.3); transform: translateY(-2px); }
    .season-card img { width:100%; aspect-ratio:2/3; object-fit:cover; display:block; }
    .season-card-no-img {
      width:100%; aspect-ratio:2/3; background:var(--surface2);
      display:flex; align-items:center; justify-content:center; font-size:2rem;
    }
    .season-card-body { padding: 0.55rem 0.7rem; }
    .season-card-name { font-size:0.75rem; font-weight:600; color:var(--text); margin-bottom:0.15rem; }
    .season-card-eps  { font-size:0.65rem; color:var(--muted); }

    #epsPanel { display: none; }
    .status-ongoing { color: var(--green-lt) !important; }
    .status-ended   { color: var(--red-lt)   !important; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       RESPONSIVE â€” TABLET (â‰¤1024px)
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (max-width: 1024px) {
      :root { --sidebar-w: 260px; }
      .charts-master-grid { grid-template-columns: 1fr 1fr; }
      .meta-duo { grid-template-columns: 1fr 1fr; }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       RESPONSIVE â€” MOBILE (â‰¤768px)
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (max-width: 768px) {
      :root {
        --header-h:        54px;
        --mobile-search-h: 90px;
      }

      .header-inner {
        padding: 0 1rem !important;
        gap: 0.5rem !important;
        justify-content: space-between !important;
      }
      .header-sub { display: none !important; }
      #headerSearch { display: none !important; }

      .mobile-search-row { display: block !important; }

      .landing-screen {
        padding-top: calc(var(--header-h) + var(--mobile-search-h) + 1.5rem) !important;
      }
      .app-layout {
        padding-top: calc(var(--header-h) + var(--mobile-search-h)) !important;
        grid-template-columns: 1fr !important;
      }

      .mode-toggle { padding: 2px; }
      .mode-btn { font-size: 0.68rem; padding: 0.28rem 0.6rem; }

      .sidebar {
        position: static !important;
        height: auto !important;
        overflow: visible !important;
        border-right: none !important;
        border-bottom: 1px solid var(--border);
      }

      /* â”€â”€ POSTER FIX: use natural aspect ratio, anchor to top â”€â”€ */
      .sidebar-poster-wrap {
        aspect-ratio: 2 / 3 !important;   /* restore natural poster ratio */
        height: auto !important;           /* let aspect-ratio drive height */
        max-height: 520px !important;      /* cap on very tall screens */
      }
      .sidebar-poster {
        object-position: top center !important;  /* show the top of the poster */
      }

      .sidebar-overview {
        -webkit-line-clamp: 4 !important;
      }

      .hero-backdrop { height: 180px !important; }
      .hero-top-bar {
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 0.35rem !important;
        padding: 0.85rem 1rem !important;
      }
      .hero-title { font-size: 1.5rem !important; }
      .hero-fin-quick { display: none !important; }

      .stat-ribbon-item {
        min-width: 95px !important;
        padding: 0.65rem 0.75rem !important;
      }
      .stat-rib-value  { font-size: 1.1rem !important; }
      .stat-rib-label  { font-size: 0.55rem !important; }
      .stat-rib-sub    { font-size: 0.6rem  !important; }

      .show-stat-band {
        grid-template-columns: repeat(2, 1fr) !important;
        padding: 0.75rem 1rem 0 !important;
      }

      .profit-bar-wrap {
        margin: 0.85rem 1rem !important;
        padding: 0.95rem 1.1rem !important;
      }
      .profit-pill-row { flex-wrap: wrap !important; gap: 0.45rem !important; }
      .profit-pill { font-size: 0.68rem !important; padding: 0.3rem 0.65rem !important; }

      .charts-master-grid {
        grid-template-columns: 1fr !important;
        padding: 0.85rem !important;
        gap: 0.65rem !important;
      }
      .chart-panel.span-2 { grid-column: 1 !important; }
      .chart-wrap { height: 210px !important; }

      .people-grid {
        grid-template-columns: repeat(3, 1fr) !important;
        padding: 0 1rem !important;
        gap: 0.55rem !important;
      }
      .person-name { font-size: 0.66rem !important; }
      .person-role { font-size: 0.58rem !important; }

      .section-header { padding: 0 1rem !important; }

      .seasons-table { padding: 0 1rem 1.2rem !important; }
      .seasons-grid {
        grid-template-columns: repeat(auto-fill, minmax(90px, 1fr)) !important;
        gap: 0.5rem !important;
      }

      .meta-duo {
        grid-template-columns: 1fr !important;
        padding: 0 1rem 1.5rem !important;
        gap: 0.65rem !important;
      }

      .landing-title h2  { font-size: clamp(2rem, 8vw, 3.5rem) !important; }
      .landing-title p   { font-size: 0.88rem !important; }
      .landing-icon      { font-size: 2.8rem !important; margin-bottom: 0.9rem !important; }
      .landing-search-box input { font-size: 0.95rem !important; }

      .sidebar-title { font-size: 1.45rem !important; }
      .sidebar-stat-row { gap: 0.4rem !important; }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       RESPONSIVE â€” SMALL MOBILE (â‰¤480px)
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (max-width: 480px) {
      .header-brand h1 { font-size: 1.4rem; }
      .mode-btn { padding: 0.25rem 0.45rem; font-size: 0.62rem; }

      .chart-panel-title {
        font-size: 0.85rem !important;
        letter-spacing: 0.1em !important;
      }

      .people-grid {
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 0.45rem !important;
      }

      .sidebar-stat-row { grid-template-columns: repeat(3, 1fr) !important; }

      .hero-title { font-size: 1.4rem !important; }
      .hero-backdrop { height: 155px !important; }

      .profit-pill-row { gap: 0.35rem !important; }
      .profit-pill { font-size: 0.65rem !important; }

      .show-stat-card .val { font-size: 1.05rem !important; }

      /* Slightly smaller poster on small phones */
      .sidebar-poster-wrap {
        max-height: 420px !important;
      }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       RESPONSIVE â€” VERY SMALL (â‰¤360px)
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (max-width: 360px) {
      .people-grid { grid-template-columns: repeat(2, 1fr) !important; }
      .header-brand h1 { font-size: 1.25rem; }
      .mode-btn { font-size: 0.58rem; padding: 0.22rem 0.4rem; }
      .show-stat-band { grid-template-columns: 1fr 1fr !important; }

      .sidebar-poster-wrap {
        max-height: 380px !important;
      }
    }
  </style>
</head>
<body>

  <!-- NOISE OVERLAY -->
  <div class="noise-overlay"></div>

  <!-- HEADER -->
  <header class="ci-header">
    <div class="header-inner">
      <div class="header-brand">
        <h1>ENTERTAINMENT</h1>
        <p class="header-sub">Real-Time Movie &amp; TV Intelligence</p>
      </div>

      <a href="/" class="back-home-btn back-home-desktop" title="Back to Home">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
          <path d="M9 2L4 7l5 5" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span class="back-home-label">Home</span>
      </a>

      <div class="mode-toggle" id="modeToggle">
        <button class="mode-btn active" data-mode="movie">ğŸ¬ Movies</button>
        <button class="mode-btn" data-mode="tv">ğŸ“º TV Shows</button>
      </div>

      <div class="search-wrap" id="headerSearch">
        <div class="search-box">
          <span class="search-icon">âŒ•</span>
          <input type="text" id="searchInput" placeholder="Search moviesâ€¦" autocomplete="off" />
          <kbd class="search-kbd">âŒ˜K</kbd>
        </div>
        <ul id="suggestions" class="suggestions hidden"></ul>
      </div>
    </div>
  </header>

  <!-- MOBILE STICKY BAR -->
  <div class="mobile-search-row" id="mobileSearchRow">
    <a href="/" class="back-home-mobile">
      <svg width="13" height="13" viewBox="0 0 14 14" fill="none">
        <path d="M9 2L4 7l5 5" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      Back to Home
    </a>
    <div class="search-box">
      <span class="search-icon">âŒ•</span>
      <input type="text" id="searchInputMobile" placeholder="Search movies or showsâ€¦" autocomplete="off" />
    </div>
    <ul id="mobileSearchSuggestions" class="suggestions hidden"></ul>
  </div>

  <!-- LANDING -->
  <div id="landing" class="landing-screen">
    <div class="landing-inner">
      <div class="landing-title">
        <span class="landing-icon" id="landingIcon">ğŸ¬</span>
        <h2 id="landingTitle">Discover Deep Movie Analytics</h2>
        <p id="landingSubtitle">Financial performance, cast insights, popularity trends, and more â€” all in one cinematic dashboard.</p>
      </div>
      <div class="landing-search-wrap">
        <div class="search-box landing-search-box">
          <span class="search-icon">âŒ•</span>
          <input type="text" id="searchInputLanding" placeholder="Try 'Inception', 'Avengers', 'The Dark Knight'â€¦" autocomplete="off" />
        </div>
        <ul id="suggestionsLanding" class="suggestions hidden"></ul>
      </div>
      <div class="landing-hints" id="landingHints">
        <span class="hint-chip" data-query="Inception">Inception</span>
        <span class="hint-chip" data-query="Avengers: Endgame">Avengers: Endgame</span>
        <span class="hint-chip" data-query="Parasite">Parasite</span>
        <span class="hint-chip" data-query="The Dark Knight">The Dark Knight</span>
        <span class="hint-chip" data-query="Oppenheimer">Oppenheimer</span>
      </div>
    </div>
  </div>

  <!-- MAIN DASHBOARD -->
  <main class="app-layout hidden" id="dashboard">

    <aside class="sidebar" id="sidebar">
      <div class="sidebar-poster-wrap">
        <img id="sidebarPoster" src="" alt="" class="sidebar-poster" />
        <div class="sidebar-poster-overlay"></div>
      </div>
      <div class="sidebar-meta">
        <div class="sidebar-title"  id="sidebarTitle"></div>
        <div class="sidebar-year"   id="sidebarYear"></div>
        <div class="sidebar-badges" id="sidebarBadges"></div>
        <div class="sidebar-tagline" id="sidebarTagline"></div>
        <div class="sidebar-overview" id="sidebarOverview"></div>

        <div class="sidebar-stat-row">
          <div class="sidebar-stat">
            <div class="sidebar-stat-lbl">Rating</div>
            <div class="sidebar-stat-val" id="sidebarRating">â€”</div>
          </div>
          <div class="sidebar-stat">
            <div class="sidebar-stat-lbl" id="sidebarRuntimeLbl">Runtime</div>
            <div class="sidebar-stat-val" id="sidebarRuntime">â€”</div>
          </div>
          <div class="sidebar-stat">
            <div class="sidebar-stat-lbl">Status</div>
            <div class="sidebar-stat-val" id="sidebarStatus">â€”</div>
          </div>
        </div>

        <div class="sidebar-score-wrap" id="sidebarScoreWrap">
          <div class="score-ring-wrap">
            <svg class="score-ring" viewBox="0 0 60 60">
              <circle cx="30" cy="30" r="26" class="score-track"/>
              <circle cx="30" cy="30" r="26" class="score-fill" id="scoreRingFill"/>
            </svg>
            <div class="score-center" id="scoreCenter"></div>
          </div>
          <div class="score-label">Audience Score</div>
        </div>
      </div>
    </aside>

    <div class="content-area">

      <div class="hero-backdrop" id="heroBackdrop">
        <div class="hero-backdrop-img" id="heroBg"></div>
        <div class="hero-backdrop-fade"></div>
        <div class="hero-top-bar">
          <div class="hero-title-block">
            <div class="hero-title"      id="heroTitle"></div>
            <div class="hero-badges-bar" id="heroBadges"></div>
          </div>
          <div class="hero-fin-quick" id="heroFinQuick"></div>
        </div>
      </div>

      <div class="stat-ribbon" id="statRibbon"></div>

      <div id="showStatBand" class="show-stat-band" style="display:none"></div>

      <div class="profit-bar-wrap" id="profitBarWrap" style="display:none">
        <div class="profit-bar-header">
          <div class="profit-bar-title">BOX OFFICE PERFORMANCE</div>
          <div class="profit-bar-ratio" id="profitRatio"></div>
        </div>
        <div class="profit-bar-label">
          <span id="budgetLabel"></span>
          <span id="revenueLabel"></span>
        </div>
        <div class="profit-bar-track">
          <div class="profit-bar-fill" id="profitBarFill"></div>
        </div>
        <div class="profit-pill-row" id="profitPills"></div>
      </div>

      <div class="charts-master-grid">

        <div class="chart-panel span-2" id="revPanel" style="display:none">
          <div class="chart-panel-header">
            <div class="chart-panel-title" id="revPanelTitle">ğŸ“ˆ REVENUE TREND</div>
            <div class="chart-tabs" id="chartTabs">
              <button class="tab-btn active" data-tab="cumulative">Cumulative</button>
              <button class="tab-btn" data-tab="period">Period</button>
            </div>
          </div>
          <div class="chart-body">
            <div class="chart-wrap" id="cumulativePanel"><canvas id="cumulativeChart"></canvas></div>
            <div class="chart-wrap hidden" id="periodPanel"><canvas id="periodChart"></canvas></div>
          </div>
          <p class="chart-note" id="chartNote"></p>
        </div>

        <div class="chart-panel span-2" id="epsPanel">
          <div class="chart-panel-header">
            <div class="chart-panel-title">ğŸ“º EPISODES PER SEASON</div>
          </div>
          <div class="chart-body">
            <div class="chart-wrap"><canvas id="epsChart"></canvas></div>
          </div>
        </div>

        <div class="chart-panel" id="finPanel" style="display:none">
          <div class="chart-panel-header"><div class="chart-panel-title">ğŸ’° FINANCIAL BREAKDOWN</div></div>
          <div class="chart-body"><div class="chart-wrap"><canvas id="finChart"></canvas></div></div>
        </div>

        <div class="chart-panel" id="popPanel" style="display:none">
          <div class="chart-panel-header"><div class="chart-panel-title">ğŸ”¥ POPULARITY METRICS</div></div>
          <div class="chart-body"><div class="chart-wrap"><canvas id="popChart"></canvas></div></div>
        </div>

        <div class="chart-panel" id="radarPanel" style="display:none">
          <div class="chart-panel-header"><div class="chart-panel-title">ğŸ¯ GENRE PROFILE</div></div>
          <div class="chart-body"><div class="chart-wrap"><canvas id="radarChart"></canvas></div></div>
        </div>

        <div class="chart-panel" id="prodPanel" style="display:none">
          <div class="chart-panel-header">
            <div class="chart-panel-title" id="prodPanelTitle">ğŸ¢ PRODUCTION COMPANIES</div>
          </div>
          <div class="prod-list" id="prodList"></div>
        </div>

      </div>

      <div class="section-header">ğŸ­ KEY TALENT</div>
      <div class="people-grid" id="peopleGrid"></div>

      <div class="seasons-table" id="seasonsSection" style="display:none">
        <div class="seasons-table-header">ğŸ“‹ SEASONS</div>
        <div class="seasons-grid" id="seasonsGrid"></div>
      </div>

      <div class="meta-duo" id="metaDuo" style="display:none">
        <div class="meta-card">
          <div class="meta-card-title">ğŸŒ COUNTRIES OF ORIGIN</div>
          <div class="meta-card-body" id="countriesList"></div>
        </div>
        <div class="meta-card">
          <div class="meta-card-title">ğŸ—£ï¸ SPOKEN LANGUAGES</div>
          <div class="meta-card-body" id="languagesList"></div>
        </div>
        <div class="meta-card">
          <div class="meta-card-title" id="thirdMetaTitle">ğŸ† COLLECTION</div>
          <div class="meta-card-body" id="collectionInfo"></div>
        </div>
      </div>

    </div><!-- /content-area -->
  </main>

  <div id="loader" class="loader hidden">
    <div class="loader-inner">
      <div class="film-spinner"><div class="film-reel"></div></div>
      <div class="loader-text" id="loaderText">Analyzing movie dataâ€¦</div>
      <div class="loader-sub"  id="loaderSub">Fetching box office, cast &amp; financials</div>
    </div>
  </div>

  <script src="static/script.js"></script>
</body>
</html>
